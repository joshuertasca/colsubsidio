var module_48845314615=function(){var __hs_messages={};i18n_getmessage=function(){return hs_i18n_getMessage(__hs_messages,hsVars.language,arguments)},i18n_getlanguage=function(){return hsVars.language};var hsSearch=function(_instance){var func,wait,immediate,timeout,searchTerm="",searchForm=_instance,searchField=_instance.querySelector(".hs-search-field__input"),searchResults=_instance.querySelector(".hs-search-field__suggestions"),emptySearchResults=function(){searchResults.innerHTML="",searchField.focus(),searchForm.classList.remove("hs-search-field--open")},getSearchResults=function(){var request=new XMLHttpRequest,requestUrl="https://api.hubapi.com/contentsearch/v2/search?portalId=7212050&domain="+window.location.hostname+"&term="+encodeURIComponent(searchTerm)+"&limit="+encodeURIComponent(3)+"&autocomplete=true&analytics=true&"+function(){for(var formParams=[],form=_instance.querySelector("form"),i=0;i<form.querySelectorAll("input[type=hidden]").length;i++){var e=form.querySelectorAll("input[type=hidden]")[i];"limit"!==e.name&&formParams.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}return formParams.join("&")}();request.open("GET",requestUrl,!0),request.onload=function(){if(request.status>=200&&request.status<400){var data=JSON.parse(request.responseText);data.total>0?((items=[]).push("<li id='results-for'><span>Resultados para</span> \""+(response=data).searchTerm+'"</li>'),response.results.forEach((function(val,index){items.push("<li id='result"+index+"' class='sugerency'><a href='"+val.url+"'>"+val.title+'</a><img src = "https://www.colsubsidio.com/hubfs/Adelante.svg"></li>')})),emptySearchResults(),searchResults.innerHTML=items.join(""),searchForm.classList.add("hs-search-field--open"),trapFocus()):emptySearchResults()}else console.error("Server reached, error retrieving results.");var response,items},request.onerror=function(){console.error("Could not reach the server.")},request.send()},trapFocus=function(){var tabbable=[];tabbable.push(searchField);for(var tabbables=searchResults.getElementsByTagName("A"),i=0;i<tabbables.length;i++)tabbable.push(tabbables[i]);var firstTabbable=tabbable[0],lastTabbable=tabbable[tabbable.length-1];searchForm.addEventListener("keydown",(function(e){switch(e.which){case 9:!function(e){e.target!=lastTabbable||e.shiftKey?e.target==firstTabbable&&e.shiftKey&&(e.preventDefault(),lastTabbable.focus()):(e.preventDefault(),firstTabbable.focus())}(e);break;case 27:emptySearchResults();break;case 38:!function(e){e.preventDefault(),e.target==firstTabbable?lastTabbable.focus():tabbable.forEach((function(el){el==e.target&&tabbable[tabbable.indexOf(el)-1].focus()}))}(e);break;case 40:!function(e){e.preventDefault(),e.target==lastTabbable?firstTabbable.focus():tabbable.forEach((function(el){el==e.target&&tabbable[tabbable.indexOf(el)+1].focus()}))}(e)}}))},isSearchTermPresent=(func=function(){(searchTerm=searchField.value).length>2?getSearchResults():0==searchTerm.length&&emptySearchResults()},wait=250,function(){var context=this,args=arguments,callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout((function(){timeout=null,immediate||func.apply(context,args)}),wait||200),callNow&&func.apply(context,args)});searchField.addEventListener("input",(function(e){9!=e.which&&40!=e.which&&38!=e.which&&27!=e.which&&searchTerm!=searchField.value&&isSearchTermPresent()}))};if(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState){var searchResults=document.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(searchResults,(function(el){hsSearch(el)}))}else document.addEventListener("DOMContentLoaded",(function(){var searchResults=document.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(searchResults,(function(el){hsSearch(el)}))}));let spanClose=document.createElement("span");function dinamicContainer(){var nuevoPadding=document.querySelector(".hs-search-field__suggestions").clientHeight.toString()+"px 0px 5rem";0==document.querySelector("#search-input-f").value.length?(document.querySelector(".busquedas-container").style.padding=nuevoPadding,document.querySelector(".hs-search-field__suggestions").style.padding="0px"):(document.querySelector("#search-input-f").value.length=!0)&&(document.querySelector(".hs-search-field__suggestions").style.padding="25px",document.querySelector(".busquedas-container").style.padding=nuevoPadding)}spanClose.innerHTML="Cerrar",document.getElementsByClassName("search-close")[0].appendChild(spanClose),document.querySelector("#search-input-f").addEventListener("input",(()=>{dinamicContainer()})),document.querySelector("#search-input-f").addEventListener("focus",(()=>{let span=document.querySelector(".container-search-input").lastElementChild,lupaImgPrev=document.querySelector(".search-button-submit").lastElementChild,lupaImgWhite=document.createElement("img");span.classList.add("focus-span"),document.querySelector(".hs-search-field__input").style.border="1px solid var(--primary-color)",document.querySelector(".search-button-submit").style.background="var(--primary-color)",document.querySelector(".search-button-submit").style.color="#FFFFFF",lupaImgWhite.setAttribute("src","https://www.colsubsidio.com/hubfs/search_white.svg"),document.querySelector(".search-button-submit").replaceChild(lupaImgWhite,lupaImgPrev),dinamicContainer()})),window.location.hostname.includes("cet")?document.querySelector(".placeholder").innerHTML="Buscar en CET":window.location.hostname.includes(".com")&&(document.querySelector(".placeholder").innerHTML="Buscar en Colsubsidio"),document.querySelector("#search-input-f").addEventListener("blur",(()=>{let lupaImgPrev=document.querySelector(".search-button-submit").lastElementChild,span=document.querySelector(".container-search-input").lastElementChild,lupaImgWhite=document.querySelector(".search-button-submit").lastElementChild;0==document.querySelector("#search-input-f").value.length&&(lupaImgPrev.setAttribute("src","https://www.colsubsidio.com/hubfs/Sitio%20.COM/new-content/iconos/Buscador-negro.svg"),span.classList.remove("focus-span"),document.querySelector(".hs-search-field__input").style.border="none",document.querySelector(".search-button-submit").replaceChild(lupaImgPrev,lupaImgWhite),document.querySelector(".search-button-submit").style.color="#000000",document.querySelector(".search-button-submit").style.background="#D6D6D6",dinamicContainer())}))}();